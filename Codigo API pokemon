import requests

def get_pokemon_info(nombre):
    nombre = nombre.lower().strip()
    url = f"https://pokeapi.co/api/v2/pokemon/{nombre}"

    response = requests.get(url)

    if response.status_code == 200:
        data = response.json()
        nombre = data['name'].capitalize()
        id_pokemon = data['id']
        tipo = ', '.join([t['type']['name'].capitalize() for t in data['types']])
        altura = data['height'] / 10  # decÃ­metros a metros
        peso = data['weight'] / 10    # hectogramos a kilogramos
        sprite = data['sprites']['front_default']

        return {
            "nombre": nombre,
            "id": id_pokemon,
            "tipo": tipo,
            "altura": altura,
            "peso": peso,
            "imagen": sprite
        }
    elif response.status_code == 404:
        return None
    else:
        raise Exception(f"Error {response.status_code} al conectar con la API.")

if __name__ == "__main__":
    print("ğŸ” Bienvenido al buscador de PokÃ©mon (escribe 'salir' para terminar)\n")

    while True:
        nombre_pokemon = input("ğŸ‘‰ Ingresa el nombre del PokÃ©mon: ")

        if nombre_pokemon.lower().strip() == "salir":
            print("ğŸ‘‹ Â¡Hasta la prÃ³xima!")
            break

        info = get_pokemon_info(nombre_pokemon)

        if info:
            print(f"\nğŸ“‹ InformaciÃ³n de {info['nombre']}")
            print(f"ğŸ†” ID: {info['id']}")
            print(f"ğŸ§¬ Tipo: {info['tipo']}")
            print(f"ğŸ“ Altura: {info['altura']} m")
            print(f"âš–ï¸ Peso: {info['peso']} kg")
            print(f"ğŸ–¼ï¸ Imagen: {info['imagen']}\n")
        else:
            print("âŒ PokÃ©mon no encontrado. Verifica el nombre.\n")
